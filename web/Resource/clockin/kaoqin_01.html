<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>H+ 后台主题UI框架 - 主页</title>

    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">

    <!--[if lt IE 8]>
    <meta http-equiv="refresh" content="0;ie.html" />
    <![endif]-->

    <link rel="shortcut icon" href="favicon.ico">
    <link href="../css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
    <link href="../css/font-awesome.min.css?v=4.4.0" rel="stylesheet">
    <link href="../css/animate.min.css" rel="stylesheet">
    <link href="../css/style.min.css?v=4.0.0" rel="stylesheet">
	<link href="../css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
</head>

<body class="gray-bg" >  
	<div class="wrapper wrapper-content">
		<ul id="myTab" class="nav nav-tabs">
			<li role="presentation" class="active"><a href="#home" data-toggle="tab">新建假条</a></li>
			<li role="presentation"><a href="#profile" data-toggle="tab">个人记录</a></li>
			<li role="presentation"><a href="#dropdown1" data-toggle="tab">处理中</a></li>
		</ul>

		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade in active" id="home">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">请假人：</label>

                                <div class="col-sm-10">
                                    <input type="text" placeholder="请假人" class="form-control"> 
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">上司：</label>

                                <div class="col-sm-10">
                                    <select>
										<option>李源部长</option>
										<option>李井部长</option>
									</select>
                                </div>
                            </div>
							 <div class="form-group">
                                        <label class="col-sm-2 control-label">请假时间段：</label>
                                        <div class="col-sm-10">
                                          
											<input class="form-control layer-date" type="text" placeholder="开始时间" value="" id="starttime" readonly> 				
											<input class="form-control layer-date" type="text" value="" placeholder="结束时间" id="expirationDate" readonly> 
                                        </div>
                              </div>
							   <div class="form-group">
							      <label class="col-sm-2 control-label">请假事由：</label>
							      <div class="col-sm-10">
							          <input type="text" class="form-control">
							      </div>
							  </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button class="btn btn-sm btn-white" type="submit">申请</button>
                                </div>
                            </div>
                        </form>
                 
			</div>
			
			<div class="tab-pane fade" id="profile">
				<div class="row">
				            <div class="ibox float-e-margins">
				                <div class="ibox-title">
				                    <h5>即将开始</h5>
				
				                </div>
				                <div class="ibox-content">
				
				                    <div class="table-responsive">
				                        <table class="table table-hover" id="vocation_come" data-mobile-responsive="true">
				                            <thead>
				                            <tr>
				                                <th data-field = "name" style="width: 100px;">申请人</th>
				                                <th data-field="time_start" style="width: 100px;">开始时间</th>
				                                <th data-field="time_end" style="width: 100px;">结束时间</th>
				                                <th data-field="reason">事由</th>
				                                <th data-field="operate" style="width: 100px">操作</th>
				                            </tr>
				                            </thead>
				                         
				                        </table>
				                    </div>
				                </div>
				            </div>
				</div>           
				<div class="row">
				            <div class="ibox float-e-margins">
				                <div class="ibox-title">
				                    <h5>正在进行</h5>
				
				                </div>
				                <div class="ibox-content">
				
				                    <div class="table-responsive">
				                        <table class="table table-hover" id="vocation_now" data-mobile-responsive="true">
				                            <thead>
				                            <tr>
				                                <th data-field = "name" style="width: 100px;">申请人</th>
				                                <th data-field="time_start" style="width: 100px;">开始时间</th>
				                                <th data-field="time_end" style="width: 100px;">结束时间</th>
				                                <th data-field="reason">事由</th>
												<th data-field="operate" style="width: 100px">操作</th>
				                            </tr>
				                            </thead>
				                            <tbody>
				                                              
				                           				                           
				                           </tbody>
				                        </table>
				                    </div>
				                </div>
				            </div>
				       </div>      
							   <div class="row">
							               <div class="ibox float-e-margins">
							                   <div class="ibox-title">
							                       <h5>请假记录</h5>
							   
							                   </div>
							                   <div class="ibox-content">
							   
							                       <div class="table-responsive">
							                           <table class="table table-hover" id="vocation_log" data-mobile-responsive="true">
							                               <thead>
							                               <tr>
							                                   <th data-field = "name" style="width: 100px;">申请人</th>
							                                   <th data-field="time_start" style="width: 100px;">开始时间</th>
							                                   <th data-field="time_end" style="width: 100px;">结束时间</th>
							                                   <th data-field="reason">事由</th>
							                                   <th data-field="operate" style="width: 100px">操作</th>
							                               </tr>
							                               </thead>
							                               
							                           </table>
							                       </div>
							                   </div>
							               </div>
							          </div>      
				
			</div>
			<div class="tab-pane fade" id="dropdown1">
				<div class="row">
				            <div class="ibox float-e-margins">
				               
				                <div class="ibox-content">
				
				                    <div  class="project-list">
				                       <table class="table table-hover" id="vocation_submit"  data-mobile-responsive="true">
				                         <thead>
				                         <tr>
											 <th data-field= "status">状态</th>
				                             
				                             <th data-field="time_start" style="width: 100px;">开始时间</th>
				                             <th data-field="time_end" style="width: 100px;">结束时间</th>
				                             <th data-field="reason">事由</th>
				                             <th data-field="operate" style="width: 100px">操作</th>
				                         </tr>
				                      
				                    </div>
				                </div>
				            </div>
				</div> 
				</div>
		</div>

    </div>
    <script src="../js/jquery.min.js?v=2.1.4"></script>
    <script src="../js/bootstrap.min.js?v=3.3.5"></script>
    <script src="../js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="../js/plugins/layer/layer.min.js"></script>
    <script src="../js/hplus.min.js?v=4.0.0"></script>
    <script type="text/javascript" src="../js/contabs.min.js"></script>
    <script src="../js/plugins/pace/pace.min.js"></script>
	<script src="../js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
	<script src="../js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
	<script src="../js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
	<!-- 日期Daterange picker -->
	<link href="../js/datetimepicker/bootstrap-datetimepicker.css" rel="stylesheet" type="text/css" />	
	<!-- 日期控件 -->
	<script src="../js/datetimepicker/bootstrap-datetimepicker.js"></script>
	<script src='../js/datetimepicker/locales/bootstrap-datetimepicker.zh-CN.js'></script>
	<script>
		$('#starttime').datetimepicker({
			format : 'yyyy-mm-dd hh:ii',
			language : 'zh-CN',
			weekStart : 1,
			todayBtn : 1,
			autoclose : 1,
			todayHighlight : 1,
			startView : 2,//日期时间选择器打开之后首先显示的视图。 可接受的值：//0 分钟视图；1小时
			minView : 0, //日期时间选择器所能够提供的最精确的时间选择视图
			minuteStep:1,//分钟
			formatViewType : 'time'
		}).on('hide', function(event) {
			event.preventDefault();
			event.stopPropagation();
			var startTime = event.date;
			$("#expirationDate").datetimepicker('setStartDate',startTime);
			$("#expirationDate").val("");
		});
		$('#expirationDate').datetimepicker({
			format : 'yyyy-mm-dd hh:ii',
			language : 'zh-CN',
			weekStart : 1,
			todayBtn : 1,
			autoclose : 1,
			todayHighlight : 1,
			startView : 2,//日期时间选择器打开之后首先显示的视图。 可接受的值：//0 分钟视图；1小时
			minView : 0, //日期时间选择器所能够提供的最精确的时间选择视图
			minuteStep:1,//分钟
			formatViewType : 'time'
		}).on('hide', function(event) {
			event.preventDefault();
			event.stopPropagation();
			var endTime = event.date;
			$("#startDate").datetimepicker('setEndDate',endTime);
		});
	</script>
	<script>
		
		
		
				 

		
		
		
		$(function () {
		
		
			//1.初始化Table
			var oTable = new TableInit();
			var d= [ {
			  field: 'name',
			  title: '申请人'
			}, {
			  field: 'time_star',
			  title: '开始时间',
			  
			}, {
			  field: 'time_end',
			  title: '结束时间'
			}, {
			  field: 'reason',
			  title: '事由'
			}, {
			  field: 'operate',
			  title: '操作'
			
			}];
			
			
			oTable.Init("#vocation_come",d);
			oTable.Init("#vocation_now",d);
			oTable.Init("#vocation_log",d);
			d= [{
			  field: 'status',
			  title: '状态'
			}, {
			  field: 'time_start',
			  title: '开始时间',
			  
			}, {
			  field: 'time_end',
			  title: '结束时间'
			}, {
			  field: 'reason',
			  title: '事由'
			}, {
			  field: 'operate',
			  title: '操作'			
			}];
			oTable.Init("#vocation_submit",d);
			//2.初始化Button的点击事件
			/* var oButtonInit = new ButtonInit();
			oButtonInit.Init(); */
		 
		  });
				 

		var TableInit = function () {
		var oTableInit = new Object();
		
		//初始化Table
		oTableInit.Init = function (tableid,datal) {
			
			$(tableid).bootstrapTable({
			url: '/VenderManager/TradeList',     //请求后台的URL（*）
			method: 'get',           //请求方式（*）
			toolbar: '#toolbar',        //工具按钮用哪个容器
			striped: true,           //是否显示行间隔色
			cache: false,            //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
			pagination: true,          //是否显示分页（*）
			sortable: false,           //是否启用排序
			sortOrder: "asc",          //排序方式
			queryParams: oTableInit.queryParams,//传递参数（*）
			sidePagination: "server",      //分页方式：client客户端分页，server服务端分页（*）
			pageNumber:1,            //初始化加载第一页，默认第一页
			pageSize: 50,            //每页的记录行数（*）
			pageList: [10, 25, 50, 100],    //可供选择的每页的行数（*）
			clickToSelect: true,
			strictSearch: true,
			clickToSelect: true,        //是否启用点击选中行
			uniqueId: "id",           //每一行的唯一标识，一般为主键列
			cardView: false,          //是否显示详细视图
			detailView: false,          //是否显示父子表
			columns:datal,
			});
			};
		
			//得到查询的参数
			oTableInit.queryParams = function (params) {
			var temp = {  //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的
			limit: params.limit,  //页面大小
			offset: params.offset, //页码
			sdate: $("#stratTime").val(),
			edate: $("#endTime").val(),
			sellerid: $("#sellerid").val(),
			orderid: $("#orderid").val(),
			CardNumber: $("#CardNumber").val(),
			maxrows: params.limit,
			pageindex:params.pageNumber,
			portid: $("#portid").val(),
			CardNumber: $("#CardNumber").val(),
			tradetype:$('input:radio[name="tradetype"]:checked').val(),
			success:$('input:radio[name="success"]:checked').val(),
			};
			return temp;
			};
			return oTableInit;
		};
		
	</script>
</body>

</html>